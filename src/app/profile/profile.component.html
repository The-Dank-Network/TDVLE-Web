<div class="container" *ngIf="user.background" [ngStyle]="{'background-image': 'url(' + user.background + ')'}"></div>
<br>
<div>
  <mat-card class="usercard">
    <div class="avatar">
      <ngx-avatar name={{this.user.name}} src="{{this.user.avatar}}" initialsSize="1" src="" size="200">
      </ngx-avatar>
    </div>
    <div class="username">{{this.user.name}}</div>
    <div class="action">
      <button mat-raised-button *ngIf="this.isLoggedUser" routerLink="/edit">Edit your profile</button>
    </div>
    <!--<div>-->
      <!--<button mat-raised-button *ngIf="!this.isLoggedUser && this.isAdmin()" (click)="this.deleteUser()">Delete</button>-->
    <!--</div>-->
  </mat-card>
</div>
<div class="posts">
  <mat-card *ngFor="let post of posts; let i = index" class="postcard griditem">
    <mat-card-header>
      <ngx-avatar mat-card-avatar size="40" src="{{post.user.avatar}}" initialsSize="1" routerLink="/profile/{{post.user.id}}" name={{post.user.name}}></ngx-avatar>
      <mat-card-title>{{post.user.name}}</mat-card-title>
      <mat-card-subtitle>{{post.date | timeAgo }}</mat-card-subtitle>
    </mat-card-header>
    <div class="fill" routerLink="/post/{{post.id}}">
      <mat-card-content style="margin: 20px 0 20px 0">{{post.description}}</mat-card-content>
      <div *ngIf="post.image != null">
        <mat-card-content><img style="width: 100%;" src="{{post.image}}"></mat-card-content>
      </div>
    </div>
    <mat-card-actions>
      <div class="actionsholder">
        <button (click)="this.toggleLike(post, i)" color="primary" mat-mini-fab>
          <mat-icon color="{{post.hasLiked ? 'accent' : 'white'}}" class="md-24" aria-label="Like">favorite</mat-icon>
        </button>
        <span class="textGray"><small>{{post.likeCount}}</small></span>
      </div>
    </mat-card-actions>
  </mat-card>
</div>

